<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" 
             xmlns:local="clr-namespace:CTIS.ViewModel"
             x:Class="CTIS.View.EditTestKit">
    
    <ContentPage.Resources>
        <ResourceDictionary>
            <local:EditTestKitVM x:Key="ETKVM" />
        </ResourceDictionary>
    </ContentPage.Resources>

    <!--cancel command-->
    <NavigationPage.TitleView>
        <StackLayout BindingContext="{StaticResource ETKVM}" Orientation="Horizontal" HorizontalOptions="FillAndExpand">
            <Label Text="Cancel"  FontSize="18" HorizontalOptions="EndAndExpand" TextColor="White" Margin="14">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding CancelCommand}" />
                </Label.GestureRecognizers>
            </Label>
        </StackLayout>
    </NavigationPage.TitleView>

    <StackLayout Margin="20" 
                 BindingContext="{StaticResource ETKVM}" 
                 HorizontalOptions="FillAndExpand">
        <Label Text="Update an existing test kit."
                   FontSize="26"
                   TextColor="DeepPink"
                   FontFamily="Arimo"
                   Margin="0,10"/>

        <!--Kit Name-->
        <StackLayout Orientation="Horizontal" Margin="0, 20, 0, 0">
            <Label Text="Test Kit Name: " VerticalOptions="Center" FontSize="18"/>
            <Entry Text="{Binding KitName}" HorizontalOptions="FillAndExpand"/>
        </StackLayout>

        <!--Current Stock-->
        <StackLayout Orientation="Horizontal">
            <Label Text="Current Stock: " VerticalOptions="Center" FontSize="18" />
            <Entry Text="{Binding CurrentStock}" HorizontalOptions="FillAndExpand" />
        </StackLayout>

        <!--Stock Status-->
        <StackLayout Orientation="Horizontal">
            <Label Text="Stock Status: " VerticalOptions="Center" FontSize="18" />
            <Picker ItemsSource="{Binding StatusList}" SelectedItem="{Binding Status}" FontSize="18" HorizontalOptions="FillAndExpand"/>
        </StackLayout>

        <!--Last Updated-->
        <StackLayout Orientation="Horizontal">
            <Label Text="Last Updated: " VerticalOptions="Center" FontSize="18" />
            <DatePicker Date="{Binding LastUpdated}" HorizontalOptions="FillAndExpand" />
        </StackLayout>

        <StackLayout Orientation="Horizontal">
            <Button Text="Update" FontSize="16" Margin="0,40"
                        HorizontalOptions="FillAndExpand"
                        Command="{Binding SaveCommand}"
                        BackgroundColor="DeepPink"
                        TextColor="White"
                        HeightRequest="40"
                        CornerRadius="10"/>
            <Button Text="Delete" FontSize="16" Margin="0,40"
                        HorizontalOptions="FillAndExpand"
                        Command="{Binding DeleteCommand}"
                        BackgroundColor="DeepPink"
                        TextColor="White"
                        HeightRequest="40"
                        CornerRadius="10"/>
        </StackLayout>
    </StackLayout>
</ContentPage>